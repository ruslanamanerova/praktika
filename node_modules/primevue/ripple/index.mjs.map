{"version":3,"file":"index.mjs","sources":["../../src/ripple/BaseRipple.js","../../src/ripple/Ripple.js"],"sourcesContent":["import BaseDirective from '@primevue/core/basedirective';\nimport RippleStyle from 'primevue/ripple/style';\n\nconst BaseRipple = BaseDirective.extend({\n    style: RippleStyle\n});\n\nexport default BaseRipple;\n","import { DomHandler } from '@primevue/core/utils';\nimport BaseRipple from './BaseRipple';\n\nconst Ripple = BaseRipple.extend('ripple', {\n    watch: {\n        'config.ripple'(newValue) {\n            if (newValue) {\n                this.createRipple(this.$host);\n                this.bindEvents(this.$host);\n\n                this.$host.setAttribute('data-pd-ripple', true);\n                this.$host.style['overflow'] = 'hidden';\n                this.$host.style['position'] = 'relative';\n            } else {\n                this.remove(this.$host);\n                this.$host.removeAttribute('data-pd-ripple');\n            }\n        }\n    },\n    unmounted(el) {\n        this.remove(el);\n    },\n    timeout: undefined,\n    methods: {\n        bindEvents(el) {\n            el.addEventListener('mousedown', this.onMouseDown.bind(this));\n        },\n        unbindEvents(el) {\n            el.removeEventListener('mousedown', this.onMouseDown.bind(this));\n        },\n        createRipple(el) {\n            const ink = DomHandler.createElement('span', {\n                role: 'presentation',\n                'aria-hidden': true,\n                'data-p-ink': true,\n                'data-p-ink-active': false,\n                class: !this.isUnstyled() && this.cx('root'),\n                onAnimationEnd: this.onAnimationEnd.bind(this),\n                [this.$attrSelector]: '',\n                'p-bind': this.ptm('root')\n            });\n\n            el.appendChild(ink);\n\n            this.$el = ink;\n        },\n        remove(el) {\n            let ink = this.getInk(el);\n\n            if (ink) {\n                this.$host.style['overflow'] = '';\n                this.$host.style['position'] = '';\n\n                this.unbindEvents(el);\n                ink.removeEventListener('animationend', this.onAnimationEnd);\n                ink.remove();\n            }\n        },\n        onMouseDown(event) {\n            let target = event.currentTarget;\n            let ink = this.getInk(target);\n\n            if (!ink || getComputedStyle(ink, null).display === 'none') {\n                return;\n            }\n\n            !this.isUnstyled() && DomHandler.removeClass(ink, 'p-ink-active');\n            ink.setAttribute('data-p-ink-active', 'false');\n\n            if (!DomHandler.getHeight(ink) && !DomHandler.getWidth(ink)) {\n                let d = Math.max(DomHandler.getOuterWidth(target), DomHandler.getOuterHeight(target));\n\n                ink.style.height = d + 'px';\n                ink.style.width = d + 'px';\n            }\n\n            let offset = DomHandler.getOffset(target);\n            let x = event.pageX - offset.left + document.body.scrollTop - DomHandler.getWidth(ink) / 2;\n            let y = event.pageY - offset.top + document.body.scrollLeft - DomHandler.getHeight(ink) / 2;\n\n            ink.style.top = y + 'px';\n            ink.style.left = x + 'px';\n\n            !this.isUnstyled() && DomHandler.addClass(ink, 'p-ink-active');\n            ink.setAttribute('data-p-ink-active', 'true');\n\n            this.timeout = setTimeout(() => {\n                if (ink) {\n                    !this.isUnstyled() && DomHandler.removeClass(ink, 'p-ink-active');\n                    ink.setAttribute('data-p-ink-active', 'false');\n                }\n            }, 401);\n        },\n        onAnimationEnd(event) {\n            if (this.timeout) {\n                clearTimeout(this.timeout);\n            }\n\n            !this.isUnstyled() && DomHandler.removeClass(event.currentTarget, 'p-ink-active');\n            event.currentTarget.setAttribute('data-p-ink-active', 'false');\n        },\n        getInk(el) {\n            return el && el.children ? [...el.children].find((child) => DomHandler.getAttribute(child, 'data-pc-name') === 'ripple') : undefined;\n        }\n    }\n});\n\nexport default Ripple;\n"],"names":["BaseRipple","BaseDirective","extend","style","RippleStyle","Ripple","watch","configRipple","newValue","createRipple","$host","bindEvents","setAttribute","remove","removeAttribute","unmounted","el","timeout","undefined","methods","addEventListener","onMouseDown","bind","unbindEvents","removeEventListener","ink","DomHandler","createElement","_defineProperty","role","isUnstyled","cx","onAnimationEnd","$attrSelector","ptm","appendChild","$el","getInk","event","_this","target","currentTarget","getComputedStyle","display","removeClass","getHeight","getWidth","d","Math","max","getOuterWidth","getOuterHeight","height","width","offset","getOffset","x","pageX","left","document","body","scrollTop","y","pageY","top","scrollLeft","addClass","setTimeout","clearTimeout","children","_toConsumableArray","find","child","getAttribute"],"mappings":"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"}