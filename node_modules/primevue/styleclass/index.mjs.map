{"version":3,"file":"index.mjs","sources":["../../src/styleclass/BaseStyleClass.js","../../src/styleclass/StyleClass.js"],"sourcesContent":["import BaseDirective from '@primevue/core/basedirective';\nimport StyleClassStyle from 'primevue/styleclass/style';\n\nconst BaseStyleClass = BaseDirective.extend({\n    style: StyleClassStyle\n});\n\nexport default BaseStyleClass;\n","import { DomHandler } from '@primevue/core/utils';\nimport BaseStyleClass from './BaseStyleClass';\n\nconst StyleClass = BaseStyleClass.extend('styleclass', {\n    mounted(el, binding) {\n        el.setAttribute('data-pd-styleclass', true);\n\n        this.bind(el, binding);\n    },\n    unmounted(el) {\n        this.unbind(el);\n    },\n    methods: {\n        bind(el, binding) {\n            const target = this.resolveTarget(el, binding);\n\n            this.$el = target;\n\n            el.$_pstyleclass_clicklistener = () => {\n                if (binding.value.toggleClass) {\n                    if (DomHandler.hasClass(target, binding.value.toggleClass)) DomHandler.removeClass(target, binding.value.toggleClass);\n                    else DomHandler.addClass(target, binding.value.toggleClass);\n                } else {\n                    if (target.offsetParent === null) this.enter(target, el, binding);\n                    else this.leave(target, binding);\n                }\n            };\n\n            el.addEventListener('click', el.$_pstyleclass_clicklistener);\n        },\n        unbind(el) {\n            if (el.$_pstyleclass_clicklistener) {\n                el.removeEventListener('click', el.$_pstyleclass_clicklistener);\n                el.$_pstyleclass_clicklistener = null;\n            }\n\n            this.unbindDocumentListener(el);\n        },\n        enter(target, el, binding) {\n            if (binding.value.enterActiveClass) {\n                if (!target.$_pstyleclass_animating) {\n                    target.$_pstyleclass_animating = true;\n\n                    if (binding.value.enterActiveClass.includes('slidedown')) {\n                        target.style.height = '0px';\n                        DomHandler.removeClass(target, 'hidden');\n                        target.style.maxHeight = target.scrollHeight + 'px';\n                        DomHandler.addClass(target, 'hidden');\n                        target.style.height = '';\n                    }\n\n                    DomHandler.addClass(target, binding.value.enterActiveClass);\n\n                    if (binding.value.enterFromClass) {\n                        DomHandler.removeClass(target, binding.value.enterFromClass);\n                    }\n\n                    target.$p_styleclass_enterlistener = () => {\n                        DomHandler.removeClass(target, binding.value.enterActiveClass);\n\n                        if (binding.value.enterToClass) {\n                            DomHandler.addClass(target, binding.value.enterToClass);\n                        }\n\n                        target.removeEventListener('animationend', target.$p_styleclass_enterlistener);\n\n                        if (binding.value.enterActiveClass.includes('slidedown')) {\n                            target.style.maxHeight = '';\n                        }\n\n                        target.$_pstyleclass_animating = false;\n                    };\n\n                    target.addEventListener('animationend', target.$p_styleclass_enterlistener);\n                }\n            } else {\n                if (binding.value.enterFromClass) {\n                    DomHandler.removeClass(target, binding.value.enterFromClass);\n                }\n\n                if (binding.value.enterToClass) {\n                    DomHandler.addClass(target, binding.value.enterToClass);\n                }\n            }\n\n            if (binding.value.hideOnOutsideClick) {\n                this.bindDocumentListener(target, el, binding);\n            }\n        },\n        leave(target, binding) {\n            if (binding.value.leaveActiveClass) {\n                if (!target.$_pstyleclass_animating) {\n                    target.$_pstyleclass_animating = true;\n                    DomHandler.addClass(target, binding.value.leaveActiveClass);\n\n                    if (binding.value.leaveFromClass) {\n                        DomHandler.removeClass(target, binding.value.leaveFromClass);\n                    }\n\n                    target.$p_styleclass_leavelistener = () => {\n                        DomHandler.removeClass(target, binding.value.leaveActiveClass);\n\n                        if (binding.value.leaveToClass) {\n                            DomHandler.addClass(target, binding.value.leaveToClass);\n                        }\n\n                        target.removeEventListener('animationend', target.$p_styleclass_leavelistener);\n                        target.$_pstyleclass_animating = false;\n                    };\n\n                    target.addEventListener('animationend', target.$p_styleclass_leavelistener);\n                }\n            } else {\n                if (binding.value.leaveFromClass) {\n                    DomHandler.removeClass(target, binding.value.leaveFromClass);\n                }\n\n                if (binding.value.leaveToClass) {\n                    DomHandler.addClass(target, binding.value.leaveToClass);\n                }\n            }\n\n            if (binding.value.hideOnOutsideClick) {\n                this.unbindDocumentListener(target);\n            }\n        },\n        resolveTarget(el, binding) {\n            switch (binding.value.selector) {\n                case '@next':\n                    return el.nextElementSibling;\n\n                case '@prev':\n                    return el.previousElementSibling;\n\n                case '@parent':\n                    return el.parentElement;\n\n                case '@grandparent':\n                    return el.parentElement.parentElement;\n\n                default:\n                    return document.querySelector(binding.value.selector);\n            }\n        },\n        bindDocumentListener(target, el, binding) {\n            if (!target.$p_styleclass_documentlistener) {\n                target.$p_styleclass_documentlistener = (event) => {\n                    if (!this.isVisible(target) || getComputedStyle(target).getPropertyValue('position') === 'static') {\n                        this.unbindDocumentListener(target);\n                    } else if (this.isOutsideClick(event, target, el)) {\n                        this.leave(target, binding);\n                    }\n                };\n\n                target.ownerDocument.addEventListener('click', target.$p_styleclass_documentlistener);\n            }\n        },\n        unbindDocumentListener(target) {\n            if (target.$p_styleclass_documentlistener) {\n                target.ownerDocument.removeEventListener('click', target.$p_styleclass_documentlistener);\n                target.$p_styleclass_documentlistener = null;\n            }\n        },\n        isVisible(target) {\n            return target.offsetParent !== null;\n        },\n        isOutsideClick(event, target, el) {\n            return !el.isSameNode(event.target) && !el.contains(event.target) && !target.contains(event.target);\n        }\n    }\n});\n\nexport default StyleClass;\n"],"names":["BaseStyleClass","BaseDirective","extend","style","StyleClassStyle","StyleClass","mounted","el","binding","setAttribute","bind","unmounted","unbind","methods","_this","target","resolveTarget","$el","$_pstyleclass_clicklistener","value","toggleClass","DomHandler","hasClass","removeClass","addClass","offsetParent","enter","leave","addEventListener","removeEventListener","unbindDocumentListener","enterActiveClass","$_pstyleclass_animating","includes","height","maxHeight","scrollHeight","enterFromClass","$p_styleclass_enterlistener","enterToClass","hideOnOutsideClick","bindDocumentListener","leaveActiveClass","leaveFromClass","$p_styleclass_leavelistener","leaveToClass","selector","nextElementSibling","previousElementSibling","parentElement","document","querySelector","_this2","$p_styleclass_documentlistener","event","isVisible","getComputedStyle","getPropertyValue","isOutsideClick","ownerDocument","isSameNode","contains"],"mappings":"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"}